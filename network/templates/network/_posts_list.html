{% load static %}
{% for post in page_obj %}
  <div class="card">
    <h4>
      <a href='{% url "profilePage" username=post.post_creator.username %}'>
        {{ post.post_creator }}
      </a>
    </h4>

    <div class="default" style="display: block;">
      <p id="post-content">{{ post.post_content }}</p>
      <p>posted at {{ post.post_creation_date }}</p>

      <!-- Like Count -->
      <p id="likes-count-{{ post.id }}">{{ post.posts_likes.count }} ‚ù§Ô∏è</p>

      <!-- ‚úÖ Toggle button -->
      <button 
        class="btn-toggle-like btn btn-primary btn-small" 
        data-id="{{ post.id }}">
        {% if user in post.posts_likes.all %}
          Unlike üíî
        {% else %}
          Like ‚ù§Ô∏è
        {% endif %}
      </button>

      {% if post.post_creator == user %}
        <button id="{{post.id}}" 
                data-id="{{post.id}}" 
                data-content="{{post.post_content}}"  
                class="btn-edit btn btn-primary btn-small">
          Edit
        </button>
      {% endif %}
    </div>
  </div>
{% empty %}
  <p>No posts yet.</p>
{% endfor %}

<nav aria-label="Page navigation example">
  <ul class="pagination">
    
    <!-- Previous button -->
    {% if page_obj.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a>
      </li>
    {% else %}
      <li class="page-item disabled">
        <span class="page-link">Previous</span>
      </li>
    {% endif %}

    <!-- Page numbers -->
    {% for num in page_obj.paginator.page_range %}
      {% if page_obj.number == num %}
        <li class="page-item active"><span class="page-link">{{ num }}</span></li>
      {% else %}
        <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
      {% endif %}
    {% endfor %}

    <!-- Next button -->
    {% if page_obj.has_next %}
      <li class="page-item">
        <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
      </li>
    {% else %}
      <li class="page-item disabled">
        <span class="page-link">Next</span>
      </li>
    {% endif %}

  </ul>
</nav>


{% block scripts %}
<script src="{% static "network/js/editBtn.js" %}"></script>
<script src="{% static "network/js/likeBtn.js" %}"></script>
{% endblock scripts %}